
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDoList</title>
    <style>
        .done{
            text-decoration: line-through;
            color: rgb(153, 141, 125);
            font-size: small;
        }
    </style>
</head>
<body>
    <input type="task" placeholder="Enter your task" id="task">
    <button onclick="addTask()">Add Task</button>
    <ul id="list"></ul> 
    <script>
        document.addEventListener("DOMContentLoaded", showTask)
        function addTask(){
        let input = document.getElementById('task').value
        if (input == ""){
            alert(`Please enter your task`)
            return
        }
        addToList(input)

         let li = document.createElement('li')
         li.innerHTML = input
        
         let task = JSON.parse(localStorage.getItem('task')) || [] 
         task.push(input)
         localStorage.setItem('task', JSON.stringify(task))
        

        // li.addEventListener('click', function(){
        //    li.classList.toggle('done')
        // })

        li.classList.add('done')
        document.getElementById('list').appendChild(li)
         document.getElementById('task').value =""
         console.log(li);
        }
        function showTask (){
           let toDos = JSON.parse(localStorage.getItem('task'))
           for (let i = 0; i<toDos.legth; i++){
            addToList(toDos[i])
           }
           console.log(toDos);
        }
        function addToList(text){
            let li = document.createElement('li')
            li.innerHTML = text
            document.getElementById('list').appendChild(li)
           }
    </script>

    
</body>
</html>